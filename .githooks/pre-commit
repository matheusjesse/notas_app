#!/bin/sh

# Pre-commit hook para verificar formata√ß√£o do c√≥digo

echo "ÔøΩ Verificando formata√ß√£o do c√≥digo Dart/Flutter..."

# Executar dart format com --output=none --set-exit-if-changed
# Isso verifica se o c√≥digo precisa de formata√ß√£o sem modificar os arquivos
if ! dart format --output=none --set-exit-if-changed .; then
    echo ""
    echo "‚ùå COMMIT REJEITADO! C√≥digo n√£o est√° formatado corretamente."
    echo ""
    echo "üîß Para corrigir, execute:"
    echo "   dart format ."
    echo ""
    echo "üìù Em seguida, adicione as mudan√ßas e tente commitar novamente:"
    echo "   git add ."
    echo "   git commit"
    echo ""
    exit 1
fi

echo "‚úÖ C√≥digo est√° formatado corretamente!"
exit 0
